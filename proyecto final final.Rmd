---
title: "proyecto final"
author: "kevin criollo y brandon rodriguez"
#date: "`r Sys.Date()`"
output:
  html_document:
    css: rany_style.css
    #theme: journal
    toc: true
    toc_depth: 3
    toc_float: true
    code_folding: show
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = T,
                      collapse = F,
                      fig.align='center',
                      warning=F,
                      message=F,
                      fig.height=6,
                      fig.width=7.5,
                      tidy = F,
                      comment = "",
                      prompt = F,
                      highlight=T)
library(DT)
```
```{r, echo=FALSE}
library(tidyverse)
library(readr)
library(ggplot2)
library(dplyr)
library(maps)


data <- read.csv("base_de_datos.csv")
```
## Comprensi√≥n de la base de datos

La base de datos utilizada contiene informaci√≥n macroecon√≥mica de distintos pa√≠ses del mundo. Incluye variables como PIB per c√°pita, tasa de desempleo, inflaci√≥n, coordenadas geogr√°ficas, continente/regi√≥n y nombre del pa√≠s. Estas variables permiten comparar condiciones econ√≥micas y analizar desigualdades globales. La exploraci√≥n inicial consisti√≥ en verificar tipos de datos, valores faltantes, rangos, presencia de outliers y distribuci√≥n general de las principales variables.

### Variables principales
- **GDP**: Producto Interno Bruto per c√°pita.
- **Jobless.Rate**: Tasa de desempleo (%).
- **Inflation.Rate**: Inflaci√≥n anual (%).
- **Region**: Continente o regi√≥n econ√≥mica.
- **Latitude / Longitude**: Ubicaci√≥n geogr√°fica del pa√≠s.
- **Name**: Nombre del pa√≠s.

Esta comprensi√≥n preliminar permiti√≥ seleccionar las metodolog√≠as adecuadas para los an√°lisis posteriores.

## Metodolog√≠a

### Objetivo 1: Comparar el nivel de PIB per c√°pita entre pa√≠ses
**M√©todo adicional:** Prueba no param√©trica de Kruskal‚ÄìWallis.
**Fundamentaci√≥n te√≥rica:** El test de Kruskal‚ÄìWallis permite comparar medianas entre m√°s de dos grupos cuando los supuestos de normalidad y homocedasticidad no se cumplen. Dado que el PIB per c√°pita presenta alta asimetr√≠a y valores extremos, este m√©todo resulta adecuado.
**Rol en la investigaci√≥n:** Determina si existen diferencias estad√≠sticas significativas en el PIB per c√°pita entre regiones, reforzando el an√°lisis descriptivo previo.
**M√©todo:** Estad√≠stica descriptiva, mapas tem√°ticos, boxplots por regi√≥n.
**Fundamentaci√≥n te√≥rica:** El an√°lisis descriptivo permite identificar la variabilidad, tendencia central y patrones espaciales del desarrollo econ√≥mico. El uso de mapas facilita la visualizaci√≥n de desigualdades geogr√°ficas.
**Rol en la investigaci√≥n:** Permite observar diferencias estructurales entre regiones y pa√≠ses.

### Objetivo 2: Examinar la relaci√≥n entre PIB y desempleo
**M√©todo:** Diagramas de dispersi√≥n, regresi√≥n lineal simple, an√°lisis de correlaci√≥n.
**Fundamentaci√≥n te√≥rica:** La relaci√≥n inversa PIB‚Äìdesempleo est√° asociada a la Ley de Okun, que sugiere que el crecimiento econ√≥mico tiende a reducir el desempleo.
**Rol en la investigaci√≥n:** Ayuda a evaluar si el comportamiento observado en los datos sigue patrones macroecon√≥micos conocidos.

### Objetivo 3: Analizar la variabilidad de la inflaci√≥n entre pa√≠ses
**M√©todo:** Boxplots por regi√≥n, mapas tem√°ticos, estad√≠sticos descriptivos.
**Fundamentaci√≥n te√≥rica:** La inflaci√≥n es un indicador clave de estabilidad econ√≥mica y su variabilidad refleja incertidumbre econ√≥mica.
**Rol en la investigaci√≥n:** Permite identificar regiones con estabilidad o volatilidad de precios.

## Introducci√≥n

La desigualdad econ√≥mica es una de las problem√°ticas m√°s persistentes a nivel mundial. 
A pesar del crecimiento econ√≥mico global, los pa√≠ses contin√∫an mostrando grandes diferencias en sus niveles de desarrollo y bienestar. 
Este an√°lisis busca examinar algunos indicadores macroecon√≥micos claves como el Producto Interno Bruto (PIB) per c√°pita, la tasa de desempleo, la inflaci√≥n y la deuda p√∫blica‚Äî con el fin de comprender mejor las diferencias y relaciones existentes entre ellos.

### Objetivos

**General:**  
Analizar la desigualdad econ√≥mica entre distintos pa√≠ses a partir de indicadores como el PIB, la tasa de desempleo, la inflaci√≥n y la deuda p√∫blica, con el fin de identificar patrones, diferencias regionales y posibles factores asociados.

Aplicar lo visto en clase analizando la desigualdad econ√≥mica entre distintos pa√≠ses a partir de indicadores como el PIB, la tasa de desempleo, la inflaci√≥n y la deuda p√∫blica, con el fin de identificar patrones, diferencias regionales y posibles factores asociados.

**Espec√≠ficos:**  
1. Comparar el nivel de PIB per c√°pita entre los pa√≠ses para identificar diferencias significativas en el nivel de desarrollo econ√≥mico.  
2. Examinar la relaci√≥n entre la tasa de desempleo y el PIB para evaluar c√≥mo el crecimiento econ√≥mico influye en el empleo.  
3. Analizar la variabilidad de la inflaci√≥n entre los pa√≠ses y su posible impacto en el poder adquisitivo y la estabilidad econ√≥mica.  







# üìä An√°lisis Econ√≥mico: PIB, Desempleo e Inflaci√≥n

  

## 1. Nivel de PIB per c√°pita entre pa√≠ses

### üîç Prueba estad√≠stica: Kruskal‚ÄìWallis
A continuaci√≥n se aplic√≥ la prueba **Kruskal‚ÄìWallis** para evaluar si existen diferencias significativas en el PIB per c√°pita entre las regiones.

```{r, echo=FALSE}
# Cargar datos
data <- read.csv("base_de_datos.csv")

# Test de Kruskal-Wallis
kruskal_test <- kruskal.test(GDP ~ region, data = data)
kruskal_test
```

### üìå Interpretaci√≥n del resultado
Si el **p-value < 0.05**, concluimos que **existen diferencias estad√≠sticamente significativas** en el PIB per c√°pita entre las regiones, lo que confirma la desigualdad econ√≥mica global observada en los gr√°ficos.

### üìâ Gr√°fico de regresi√≥n para soporte visual
Se adiciona una regresi√≥n simple (no inferencial) para visualizar c√≥mo se distribuye el PIB per c√°pita frente a las regiones.

```{r, echo=FALSE}
library(ggplot2)

ggplot(data, aes(x = region, y = GDP, color = region)) +
  geom_jitter(width = 0.2, alpha = 0.6) +
  geom_smooth(method = "lm", se = TRUE, color = "black") +
  scale_y_log10(labels = scales::comma) +
  labs(
    title = "Regresi√≥n visual: PIB per c√°pita vs Regi√≥n",
    subtitle = "Se usa escala logar√≠tmica para mejorar la visualizaci√≥n",
    x = "Regi√≥n",
    y = "PIB per c√°pita (log10)",
    color = "Regi√≥n"
  ) +
  theme_minimal()
```

### üß© Descripci√≥n del an√°lisis
Se examin√≥ la relaci√≥n entre el **Producto Interno Bruto (PIB)** y la **tasa de desempleo** de los pa√≠ses incluidos en la base de datos.  
El objetivo fue evaluar **c√≥mo el crecimiento econ√≥mico influye en los niveles de empleo**.
```{r, echo=FALSE}
pib_region <- data %>%
  group_by(region) %>%
  summarize(mean_gdp = mean(GDP, na.rm = TRUE))

#
datatable(pib_region)

```

```{r, echo=FALSE}


world_map <- map_data("world")


continent_gdp <- data %>%
  group_by(region) %>%
  summarise(GDP_mean = mean(GDP, na.rm = TRUE))

map_data_joined <- world_map %>%
  left_join(data, by = c("region" = "name"))


ggplot(map_data_joined, aes(map_id = region, fill = GDP)) +
  geom_map(map = world_map, color = "gray40", size = 0.2) +
  expand_limits(x = world_map$long, y = world_map$lat) +
  scale_fill_viridis_c(option = "C", name = "PIB per c√°pita",
                       trans = "log", labels = scales::comma) +
  labs(
    title = "Distribuci√≥n del PIB per c√°pita por pa√≠s",
    subtitle = "Colores m√°s claros indican mayor nivel econ√≥mico",
    x = "", y = ""
  ) +
  theme_minimal() +
  theme(
    legend.position = "bottom",
    panel.grid = element_blank(),
    axis.text = element_blank()
  )
```
**Desigualdad global evidente:**  
   El mapa mundial muestra una marcada diferencia entre los pa√≠ses con *altos niveles de PIB per c√°pita* (tonos claros) y aquellos con *niveles bajos* (tonos oscuros).  
   - Las regiones de **Am√©rica del Norte, Europa Occidental y Ocean√≠a** presentan los valores m√°s altos, reflejando econom√≠as desarrolladas.  
   - En contraste, **√Åfrica y partes de Asia y Am√©rica Latina** muestran los valores m√°s bajos, lo que indica un menor desarrollo econ√≥mico.
```{r, echo=FALSE}
data <- read.csv("base_de_datos.csv")
ggplot(data, aes(x = region, y = GDP, fill = region)) +
  geom_boxplot(outlier.colour = "red", outlier.shape = 16, outlier.size = 2, alpha = 0.7) +
  facet_wrap(~ region, scales = "free_y") +
  scale_y_continuous(labels = scales::comma) +
  labs(
    title = "Distribuci√≥n del PIB per c√°pita por continente",
    subtitle = "Cada panel muestra la variabilidad econ√≥mica dentro del continente",
    x = "",
    y = "PIB per c√°pita (USD)"
  ) +
  theme_minimal() +
  theme(
    legend.position = "none",
    strip.text = element_text(face = "bold", size = 12),
    plot.title = element_text(face = "bold", size = 14),
    axis.text.x = element_blank(),
    axis.ticks.x = element_blank()
  )
```



```{r, echo=FALSE}
data <- read.csv("base_de_datos.csv")


 ggplot(data, aes(x = region, y = GDP, fill = region)) +
  geom_boxplot(outlier.colour = "red", outlier.shape = 16, outlier.size = 2, alpha = 0.7) +
  facet_wrap(~ region, scales = "free_y") +
  scale_y_log10(labels = scales::comma) +
  labs(
    title = "Distribuci√≥n del PIB per c√°pita por continente (escala logar√≠tmica)",
    subtitle = "Cada panel muestra la variabilidad econ√≥mica dentro del continente",
    x = "",
    y = "PIB per c√°pita (log10 de USD)"
  ) +
  theme_minimal() +
  theme(
    legend.position = "none",
    strip.text = element_text(face = "bold", size = 12),
    plot.title = element_text(face = "bold", size = 14),
    axis.text.x = element_blank(),
    axis.ticks.x = element_blank()
  )
```
**Variabilidad dentro de los continentes:**  
   El gr√°fico de cajas (boxplot) permite observar que:  
   - **Europa y Ocean√≠a** presentan una distribuci√≥n m√°s compacta y centrada en valores altos, lo que indica **menor desigualdad econ√≥mica interna**.  
   - **√Åfrica y Am√©rica** muestran una dispersi√≥n amplia, evidenciando **brechas internas significativas** entre pa√≠ses de altos y bajos ingresos.  
   - **Asia** combina pa√≠ses altamente desarrollados (como Jap√≥n y Corea del Sur) con otros de bajos ingresos, mostrando gran heterogeneidad.

```{r}


```

### üìà Resultados gr√°ficos
Las gr√°ficas confirman que **el nivel de desarrollo econ√≥mico a nivel mundial es desigual**.  
   Los pa√≠ses con mayor PIB per c√°pita suelen concentrarse en el hemisferio norte y regiones industrializadas, mientras que los de menor ingreso se ubican principalmente en √Åfrica y parte de Am√©rica Latina.  
   Esta disparidad sugiere diferencias estructurales en productividad, acceso a tecnolog√≠a, educaci√≥n e infraestructura.
")
  





## 2. relaci√≥n entre la tasa de desempleo y el PIB

### üß© Descripci√≥n del an√°lisis
Se examin√≥ la relaci√≥n entre el **Producto Interno Bruto (PIB)** y la **tasa de desempleo** de los pa√≠ses incluidos en la base de datos. 
```{r, echo=FALSE}




library(ggplot2)
library(maps)


data <- read.csv("base_de_datos.csv")


data <- na.omit(data[, c("latitude", "longitude", "GDP", "Jobless.Rate", "name")])

world <- map_data("world")

ggplot() +
  geom_map(data = world, map = world,
           aes(x = long, y = lat, map_id = region),
           color = "gray80", fill = "gray95", size = 0.3) +
  geom_point(data = data,
             aes(x = longitude, y = latitude,
                 size = GDP, color = Jobless.Rate),
             alpha = 0.7) +
  scale_size_continuous(range = c(2, 10)) +
  scale_color_gradient(low = "skyblue", high = "darkred") +
  labs(
    title = "PIB y Tasa de Desempleo en el Mundo",
    subtitle = "El tama√±o del punto representa el PIB (miles de millones USD)\nEl color representa la tasa de desempleo (%)",
    x = "Longitud",
    y = "Latitud",
    size = "PIB",
    color = "Tasa de desempleo"
  ) +
  theme_minimal() +
  theme(
    panel.background = element_rect(fill = "aliceblue"),
    panel.grid = element_blank(),
    plot.title = element_text(face = "bold", size = 14),
    plot.subtitle = element_text(size = 11)
  )

```
```{r, echo=FALSE}
data <- read.csv("base_de_datos.csv")
library(viridis)

ggplot() +
  geom_map(data = world, map = world,
           aes(x = long, y = lat, map_id = region),
           color = "gray80", fill = "gray95", size = 0.3) +
  geom_point(data = data,
             aes(x = longitude, y = latitude,
                 size = GDP, color = Jobless.Rate),
             alpha = 0.8) +
  scale_size_continuous(range = c(2, 10)) +
  scale_color_viridis(option = "C", direction = -1) +
  labs(
    title = "PIB y Tasa de Desempleo en el Mundo",
    subtitle = "Escala de color viridis para mejor contraste y legibilidad",
    x = "Longitud",
    y = "Latitud",
    size = "PIB (miles de millones USD)",
    color = "Tasa de desempleo (%)"
  ) +
  theme_minimal() +
  theme(
    panel.background = element_rect(fill = "aliceblue"),
    panel.grid = element_blank(),
    plot.title = element_text(face = "bold", size = 14),
    plot.subtitle = element_text(size = 11)
  )

```
El an√°lisis del PIB per c√°pita evidencia grandes disparidades entre pa√≠ses y regiones.
Las econom√≠as m√°s desarrolladas, como las de Am√©rica del Norte, Europa Occidental y parte de Asia Oriental, presentan PIB per c√°pita elevados, lo que refleja una mayor productividad, ingresos y capacidad de consumo.


```{r, echo=FALSE}

library(ggplot2)

data <- read.csv("base_de_datos.csv")


data <- na.omit(data[, c("GDP", "Jobless.Rate", "name", "region")])

ggplot(data, aes(x = GDP, y = Jobless.Rate, color = region)) +
  geom_point(size = 3, alpha = 0.7) +
  geom_smooth(method = "lm", se = TRUE, color = "black") +
  scale_x_log10() +
  labs(
    title = "Relaci√≥n entre el PIB y la Tasa de Desempleo",
    subtitle = "Escala logar√≠tmica del PIB. La l√≠nea negra muestra la tendencia lineal.",
    x = "PIB (escala logar√≠tmica, miles de millones USD)",
    y = "Tasa de desempleo (%)",
    color = "Regi√≥n"
  ) +
  theme_minimal() +
  theme(
    plot.title = element_text(face = "bold", size = 14),
    plot.subtitle = element_text(size = 11)
  )
```
En contraste, regiones como Am√©rica Latina, √Åfrica y parte del sur de Asia muestran valores considerablemente menores, lo que indica niveles de desarrollo econ√≥mico m√°s bajos y brechas significativas en el bienestar de la poblaci√≥n.

### üìä Resultados gr√°ficos
las diferencias se visualizan claramente en el mapa econ√≥mico mundial, donde el color y tama√±o de los puntos o regiones permiten identificar la concentraci√≥n del crecimiento en ciertos bloques econ√≥micos, mientras otras zonas se mantienen rezagadas.

Estos resultados se relacionan con la **Ley de Okun**, que establece que un mayor crecimiento econ√≥mico tiende a reducir el desempleo.  
Aun as√≠, los **factores estructurales** de cada pa√≠s (pol√≠ticas laborales, nivel educativo, tecnolog√≠a, informalidad) modifican la magnitud de este efecto.



### üí° Interpretaci√≥n econ√≥mica
Una alta variabilidad en la inflaci√≥n refleja **p√©rdida del poder adquisitivo**, **depreciaci√≥n monetaria** e **incertidumbre econ√≥mica**.  
Los pa√≠ses con inflaci√≥n controlada disfrutan de **mayor estabilidad macroecon√≥mica**, favoreciendo la inversi√≥n y el crecimiento.

### ‚úÖ Conclusi√≥n
La inflaci√≥n se consolida como un **indicador clave de estabilidad econ√≥mica**.  
Los pa√≠ses con inflaci√≥n alta tienden a enfrentar **desequilibrios y p√©rdida del poder adquisitivo**, mientras que aquellos con inflaci√≥n baja y estable mantienen **condiciones favorables para el crecimiento econ√≥mico y social**.








# 3. variabilidad de la inflaci√≥n entre los pa√≠ses

### üß© Descripci√≥n del an√°lisis
Se analiz√≥ la **variabilidad de la tasa de inflaci√≥n** entre las diferentes regiones del mundo, con el prop√≥sito de evaluar su **impacto sobre el poder adquisitivo y la estabilidad econ√≥mica**.

```{r, echo=FALSE}
library(dplyr)
library(ggplot2)
data <- read.csv("base_de_datos.csv")

# Calcular inflaci√≥n promedio por regi√≥n
inflacion_promedio <- data %>%
  group_by(region) %>%
  summarise(Inflacion_Promedio = mean(Inflation.Rate, na.rm = TRUE)) %>%
  arrange(desc(Inflacion_Promedio))

# Gr√°fico de barras con escala de color (azul = baja, rojo = alta inflaci√≥n)
ggplot(inflacion_promedio, aes(x = reorder(region, Inflacion_Promedio),
                               y = Inflacion_Promedio,
                               fill = Inflacion_Promedio)) +
  geom_col(alpha = 0.9) +
  coord_flip() +
  scale_fill_gradient(low = "skyblue", high = "darkred") +
  geom_text(aes(label = round(Inflacion_Promedio, 2)), hjust = -0.2, size = 3.8) +
  labs(
    title = "Inflaci√≥n promedio por regi√≥n",
    subtitle = "Comparaci√≥n del nivel general de inflaci√≥n en el mundo",
    x = "Regi√≥n",
    y = "Inflaci√≥n promedio (%)",
    fill = "Nivel de inflaci√≥n"
  ) +
  theme_minimal(base_size = 13) +
  theme(
    plot.title = element_text(face = "bold", size = 15),
    axis.text.y = element_text(size = 11),
    panel.grid.minor = element_blank()
  )
```

```{r, echo=FALSE}
# Instalar y cargar librer√≠as necesarias
# install.packages(c("ggplot2", "dplyr", "maps"))

library(ggplot2)
library(dplyr)
library(maps)

# Cargar los datos
data <- read.csv("base_de_datos.csv")

# Limpiar datos: solo pa√≠ses con informaci√≥n de inflaci√≥n
inflacion_map <- data %>%
  select(name, Inflation.Rate) %>%
  na.omit()

# Datos del mapa mundial
world <- map_data("world")

# Unir la base de inflaci√≥n con el mapa (por nombre del pa√≠s)
mapa_inflacion <- left_join(world, inflacion_map, by = c("region" = "name"))

# Crear el mapa
ggplot(mapa_inflacion, aes(x = long, y = lat, group = group, fill = Inflation.Rate)) +
  geom_polygon(color = "gray70", size = 0.2) +
  scale_fill_gradientn(
    colors = c("darkblue", "skyblue", "yellow", "orange", "red", "darkred"),
    na.value = "white",
    name = "Inflaci√≥n (%)"
  ) +
  labs(
    title = "Mapa mundial de inflaci√≥n",
    subtitle = "El color representa la tasa de inflaci√≥n promedio por pa√≠s",
    x = "",
    y = ""
  ) +
  theme_minimal(base_size = 12) +
  theme(
    plot.title = element_text(face = "bold", size = 15),
    plot.subtitle = element_text(size = 11),
    axis.text = element_blank(),
    axis.ticks = element_blank(),
    panel.grid = element_blank()
  )

```


### üìä Resultados gr√°ficos
El **boxplot** mostr√≥ una **alta dispersi√≥n de la inflaci√≥n en √Åfrica**, con varios pa√≠ses que superan el 100%.  
En contraste, **Europa y Ocean√≠a** presentan niveles bajos y estables, mientras que **Am√©rica Latina y Asia** exhiben valores intermedios con algunos picos extremos.  

El **mapa mundial de inflaci√≥n** confirm√≥ esta tendencia: los tonos **rojos** concentran los pa√≠ses con **mayor inflaci√≥n**, mientras que los **azules** representan **estabilidad de precios**.

### üí° Interpretaci√≥n econ√≥mica
Una alta variabilidad en la inflaci√≥n refleja **p√©rdida del poder adquisitivo**, **depreciaci√≥n monetaria** e **incertidumbre econ√≥mica**.  
Los pa√≠ses con inflaci√≥n controlada disfrutan de **mayor estabilidad macroecon√≥mica**, favoreciendo la inversi√≥n y el crecimiento.

### ‚úÖ Conclusi√≥n
La inflaci√≥n se consolida como un **indicador clave de estabilidad econ√≥mica**.  
Los pa√≠ses con inflaci√≥n alta tienden a enfrentar **desequilibrios y p√©rdida del poder adquisitivo**, mientras que aquellos con inflaci√≥n baja y estable mantienen **condiciones favorables para el crecimiento econ√≥mico y social**.




```{r}

```

```{r}

```

```{r}

```

```{r}

```

```{r}

```
